<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- FullCalendar -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet" />

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #6366f1;
            --dark: #0f172a;
            --muted: #475569;
            --glass: rgba(255,255,255,0.78);
        }

        body {
            font-family: 'Inter', sans-serif;
            padding-top: 90px;
            min-height: 100vh;
            background:
                radial-gradient(circle at top left, #c7d2fe, transparent 40%),
                radial-gradient(circle at bottom right, #bbf7d0, transparent 40%),
                linear-gradient(135deg, #eef2ff, #f0fdf4);
            transition: background .4s;
        }

        /* DARK MODE */
        body.dark {
            background:
                radial-gradient(circle at top left, #1e1b4b, transparent 40%),
                radial-gradient(circle at bottom right, #064e3b, transparent 40%),
                linear-gradient(135deg, #020617, #020617);
        }

        /* NAVBAR */
        .navbar {
            background: rgba(15, 23, 42, 0.9) !important;
            backdrop-filter: blur(12px);
            box-shadow: 0 10px 30px rgba(0,0,0,.25);
        }

        .navbar-brand {
            font-weight: 700;
        }

        .nav-link:hover {
            color: #c7d2fe !important;
        }

        /* HERO */
        .hero {
            max-width: 1100px;
            margin: 0 auto;
            background: var(--glass);
            backdrop-filter: blur(14px);
            border-radius: 28px;
            padding: 5rem 4rem;
            box-shadow: 0 30px 70px rgba(0,0,0,.18);
        }

        body.dark .hero,
        body.dark .calendar-wrapper {
            background: rgba(15, 23, 42, 0.75);
        }

        .hero h1 {
            font-weight: 700;
            font-size: 3rem;
            color: var(--dark);
        }

        body.dark h1,
        body.dark h3 {
            color: #e5e7eb;
        }

        .hero p {
            font-size: 1.15rem;
            color: var(--muted);
            max-width: 700px;
            margin: 1.5rem auto 2.5rem;
        }

        body.dark p {
            color: #cbd5f5;
        }

        /* BUTTONS */
        .btn {
            border-radius: 999px;
            padding: 14px 34px;
            font-weight: 600;
            transition: .3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            border: none;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(79,70,229,.45);
        }

        .btn-outline-secondary {
            border: 2px solid #c7d2fe;
            color: #3730a3;
        }

        body.dark .btn-outline-secondary {
            color: #c7d2fe;
            border-color: #4338ca;
        }

        /* CALENDAR */
        .calendar-wrapper {
            margin-top: 90px;
            background: var(--glass);
            backdrop-filter: blur(12px);
            border-radius: 28px;
            padding: 30px;
            box-shadow: 0 25px 60px rgba(0,0,0,.15);
        }

        /* ANIMATION */
        .fade-up {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeUp .9s ease forwards;
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="{% url 'home' %}">–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</a>
        <ul class="navbar-nav ms-auto align-items-center">
            {% if user.is_authenticated %}
                <li class="nav-item"><a class="nav-link" href="{% url 'booking' %}">–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'my_bookings' %}">–ú–æ—ó –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'rooms' %}">–ö—ñ–º–Ω–∞—Ç–∏</a></li>
                <li class="nav-item">
                    <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button class="btn btn-link nav-link p-0">–í–∏–π—Ç–∏</button>
                    </form>
                </li>
            {% else %}
                <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">–£–≤—ñ–π—Ç–∏</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'register' %}">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a></li>
            {% endif %}
            <li class="nav-item ms-3">
                <button id="themeToggle" class="btn btn-sm btn-outline-light rounded-pill">üåô</button>
            </li>
        </ul>
    </div>
</nav>

<!-- HERO -->
<div class="container mt-5">
    <div class="hero text-center fade-up">
        <h1>–ï–ª–µ–≥–∞–Ω—Ç–Ω–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∫—ñ–º–Ω–∞—Ç</h1>
        <p>
            –ü–ª–∞–Ω—É–π—Ç–µ –ø–æ–¥—ñ—ó, –ø–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å —Ç–∞ –∫–µ—Ä—É–π—Ç–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º–∏
            –≤ –æ–¥–Ω–æ–º—É –∑—Ä—É—á–Ω–æ–º—É —Å–µ—Ä–≤—ñ—Å—ñ
        </p>

        {% if user.is_authenticated %}
            <a href="{% url 'booking' %}" class="btn btn-primary btn-lg">
                –ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –∫—ñ–º–Ω–∞—Ç—É
            </a>
        {% else %}
            <a href="{% url 'register' %}" class="btn btn-primary btn-lg me-2">
                –†–æ–∑–ø–æ—á–∞—Ç–∏
            </a>
            <a href="{% url 'login' %}" class="btn btn-outline-secondary btn-lg">
                –£–≤—ñ–π—Ç–∏
            </a>
        {% endif %}
    </div>

    <div class="calendar-wrapper fade-up" style="animation-delay:.2s">
        <h3 class="text-center mb-3">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ</h3>
        <div id="calendar"></div>
    </div>
</div>

<!-- FullCalendar -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {

    // Calendar
    new FullCalendar.Calendar(document.getElementById('calendar'), {
        initialView: 'dayGridMonth',
        events: '{% url "bookings_api" %}',
        height: 600
    }).render();

    // Dark mode
    const toggle = document.getElementById('themeToggle');
    if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark');
        toggle.textContent = '‚òÄÔ∏è';
    }

    toggle.onclick = () => {
        document.body.classList.toggle('dark');
        const dark = document.body.classList.contains('dark');
        toggle.textContent = dark ? '‚òÄÔ∏è' : 'üåô';
        localStorage.setItem('theme', dark ? 'dark' : 'light');
    };
});
</script>

</body>
</html>

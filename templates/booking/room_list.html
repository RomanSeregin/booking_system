{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–°–ø–∏—Å–æ–∫ –∫—ñ–º–Ω–∞—Ç</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="{% url 'home' %}">–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        {% if user.is_authenticated %}
            <li class="nav-item"><a class="nav-link" href="{% url 'booking' %}">–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'my_bookings' %}">–ú–æ—ó –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</a></li>
            {% if user.is_staff %}
                <li class="nav-item"><a class="nav-link" href="/admin/">–ê–¥–º—ñ–Ω–∫–∞</a></li>
            {% endif %}
            <li class="nav-item">
              <form method="post" action="{% url 'logout' %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit" class="btn btn-link nav-link" style="padding:0; margin:0; border:none; background:none;">–í–∏–π—Ç–∏</button>
              </form>
            </li>
        {% else %}
            <li class="nav-item"><a class="nav-link" href="{% url 'login' %}">–£–≤—ñ–π—Ç–∏</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'register' %}">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-5">
    <h2>–°–ø–∏—Å–æ–∫ –∫—ñ–º–Ω–∞—Ç</h2>

    <!-- –§—ñ–ª—å—Ç—Ä –∑–∞ —Ç–∏–ø–æ–º -->
    <form method="get" class="mb-4">
        <div class="row g-2 align-items-center">
            <div class="col-auto">
                <label for="type" class="col-form-label">–§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∑–∞ —Ç–∏–ø–æ–º:</label>
            </div>
            <div class="col-auto">
                <select name="type" id="type" class="form-select">
                    <option value="">–£—Å—ñ</option>
                    <option value="auditorium" {% if request.GET.type == "auditorium" %}selected{% endif %}>–ê—É–¥–∏—Ç–æ—Ä—ñ—è</option>
                    <option value="conference" {% if request.GET.type == "conference" %}selected{% endif %}>–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª</option>
                    <option value="lab" {% if request.GET.type == "lab" %}selected{% endif %}>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è</option>
                    <option value="other" {% if request.GET.type == "other" %}selected{% endif %}>–Ü–Ω—à–µ</option>
                </select>
            </div>
            <div class="col-auto">
                <button type="submit" class="btn btn-primary">–§—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏</button>
            </div>
        </div>
    </form>

    <div class="row row-cols-1 row-cols-md-2 g-4">
        {% for room in rooms %}
        <div class="col">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">{{ room.name }}</h5>
                    <p><strong>–¢–∏–ø –∫—ñ–º–Ω–∞—Ç–∏:</strong>
                        {% if room.type == "auditorium" %}–ê—É–¥–∏—Ç–æ—Ä—ñ—è
                        {% elif room.type == "conference" %}–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü-–∑–∞–ª
                        {% elif room.type == "lab" %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä—ñ—è
                        {% else %}–Ü–Ω—à–µ
                        {% endif %}
                    </p>
                    <p><strong>–ú—ñ—Å—Ç–∫—ñ—Å—Ç—å:</strong> {{ room.capacity }} –æ—Å—ñ–±</p>
                    <p><strong>–¶—ñ–Ω–∞ –∑–∞ –¥–µ–Ω—å:</strong> {{ room.price_per_day }} –≥—Ä–Ω</p>

                    <!-- –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ -->
                    {% if room.features %}
                        <p><strong>–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:</strong><br>{{ room.features }}</p>
                    {% else %}
                        {% if room.type == "auditorium" %}
                            <p><strong>–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:</strong></p>
                            <ul>
                                <li>üì∂ Wi-Fi</li>
                                <li>ü™ë –ó—Ä—É—á–Ω—ñ —Ä–æ–±–æ—á—ñ –º—ñ—Å—Ü—è</li>
                                <li>üí° –ì–∞—Ä–Ω–µ –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è</li>
                                <li>üïò –î–æ—Å—Ç—É–ø –∑ 9:00 –¥–æ 21:00</li>
                            </ul>
                        {% elif room.type == "conference" %}
                            <p><strong>–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:</strong></p>
                            <ul>
                                <li>üìΩ –ü—Ä–æ—î–∫—Ç–æ—Ä —Ç–∞ –µ–∫—Ä–∞–Ω</li>
                                <li>üé§ –ê—É–¥—ñ–æ—Å–∏—Å—Ç–µ–º–∞</li>
                                <li>‚ùÑ –ö–æ–Ω–¥–∏—Ü—ñ–æ–Ω–µ—Ä</li>
                                <li>‚òï –ó–æ–Ω–∞ –¥–ª—è –∫–∞–≤–∏</li>
                            </ul>
                        {% elif room.type == "lab" %}
                            <p><strong>–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:</strong></p>
                            <ul>
                                <li>‚öó –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–µ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è</li>
                                <li>üß™ –ó–∞—Å–æ–±–∏ –±–µ–∑–ø–µ–∫–∏</li>
                                <li>üì∂ Wi-Fi</li>
                            </ul>
                        {% else %}
                            <p><strong>–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:</strong> –ù–µ –≤–∫–∞–∑–∞–Ω—ñ</p>
                        {% endif %}
                    {% endif %}
                </div>
            </div>
        </div>
        {% empty %}
        <p>–ö—ñ–º–Ω–∞—Ç–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ.</p>
        {% endfor %}
    </div>
</div>

</body>
</html>